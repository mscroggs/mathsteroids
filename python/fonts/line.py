def linefont(word, x, y):
    out = []
    for letter in word:
        if letter == " ":
            x += 20
        else:
            l, x = draw_letter(letter, x, y, return_x=True)
            out += l
    return out


def draw_letter(letter, x=0, y=0, return_x=False):
    out = []
    x_out = x
    if letter in font_data:
        letter_data = font_data[letter]
    else:
        letter_data = font_data["??"]
    for part in letter_data:
        out_part = []
        for point in part:
            out_part.append((x+point[0],y+point[1]))
            x_out = max(x_out,x+point[0])
        out.append(out_part)
    if return_x:
        return out, x_out+10
    return out

font_data = {
    "??":[[(0,0),(0,-30),(20,-30),(20,0),(0,0)],[(5,-5),(5,-25),(15,-25),(15,-5),(5,-5)]],
    # UPPERCASE
    "M":[[(0,0),(0,-50),(20,-20),(40,-50),(40,0)]],
    # lowercase
    "a":[[(0,0),(0,-25),(5,-30),(15,-30),(20,-25),(20,0)],[(0,-15),(20,-15)]],
    "d":[[(0,0),(0,-30),(15,-30),(20,-25),(20,-5),(15,0),(0,0)]],
    "e":[[(20,0),(5,0),(0,-5),(0,-25),(5,-30),(20,-30)],[(0,-15),(20,-15)]],
    "h":[[(0,0),(0,-30)],[(20,0),(20,-30)],[(0,-15),(20,-15)]],
    "i":[[(0,0),(16,0)],[(0,-30),(16,-30)],[(8,0),(8,-30)]],
    "o":[[(0,-5),(0,-25),(5,-30),(15,-30),(20,-25),(20,-5),(15,0),(5,0),(0,-5)]],
    "r":[[(0,0),(0,-30),(15,-30),(20,-25),(20,-20),(15,-15),(0,-15)],[(5,-15),(20,0)]],
    "s":[[(0,0),(15,0),(20,-5),(20,-10),(15,-15),(5,-15),(0,-20),(0,-25),(5,-30),(20,-30)]],
    "t":[[(0,-30),(20,-30)],[(10,-30),(10,0)]],
    "v":[[(0,-30),(10,0),(20,-30)]],
    # numbers
    "0":[[(0,0),(0,-20),(14,-20),(14,0),(0,0)]],
    "1":[[(0,0),(0,-20)]],
    "2":[[(0,-20),(14,-20),(14,-10),(0,-10),(0,0),(14,0)]],
    "3":[[(0,-20),(14,-20),(14,0),(0,0)],[(0,-10),(14,-10)]],
    "4":[[(10,0),(10,-20),(0,-6),(14,-6)]],
    "5":[[(14,-20),(0,-20),(0,-10),(14,-10),(14,0),(0,0)]],
    "6":[[(14,-20),(0,-20),(0,-10),(14,-10),(14,0),(0,0),(0,-10)]],
    "7":[[(0,-20),(14,-20),(4,0)],[(4,-10),(14,-10)]],
    "8":[[(0,0),(0,-20),(14,-20),(14,0),(0,0)],[(0,-10),(14,-10)]],
    "9":[[(14,-10),(14,-20),(0,-20),(0,-10),(14,-10),(14,0),(0,0)]],
    # other
    ".":[[(0,0),(0,-3),(3,-3),(3,0),(0,0)]],
    # special
    "%":[[(0,-20),(7,0),(14,-20)]], # version symbol
}
